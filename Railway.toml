# Railway.toml configuration for the backend API
# Updated: 2026-02-26 - Force rebuild

[build]
builder = "NIXPACKS"
buildCommand = "npm install && npm run build"

[deploy]
# Build the project, generate Prisma client, and start the server
# Note: prisma db push is skipped - using manual initialization via /api/admin/init
startCommand = "npm run prisma:generate && npm start"
healthcheckPath = "/api/health"
healthcheckTimeout = 30000

[variables]
# DATABASE_URL will be automatically set when you add a PostgreSQL service
